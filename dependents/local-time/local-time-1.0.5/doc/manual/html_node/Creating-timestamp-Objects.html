<html lang="en">
<head>
<title>Creating timestamp Objects - The local-time Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The local-time Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Public-API.html#Public-API" title="Public API">
<link rel="prev" href="Timezones.html#Timezones" title="Timezones">
<link rel="next" href="Querying-timestamp-Objects.html#Querying-timestamp-Objects" title="Querying timestamp Objects">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 2012 Daniel Lowe <dlowe dlowe.net>

Copyright (C) 2012 Attila Lendvai <attila.lendvai gmail.com>


     This manual describes the `local-time' Common Lisp library which is
     based on Erik Naggum's  _The Long, Painful History of Time_
     [NaggumPaper] paper.

-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {font-family: century schoolbook, serif;
      line-height: 1.3;
      padding-left: 5em; padding-right: 1em;
      padding-bottom: 1em; max-width: 60em;}
table {border-collapse: collapse}
span.roman { font-family: century schoolbook, serif; font-weight: normal; }
h1, h2, h3, h4, h5, h6 {font-family:  Helvetica, sans-serif}
/*h4 {padding-top: 0.75em;}*/
dfn {font-family: inherit; font-variant: italic; font-weight: bolder }
kbd {font-family: monospace; text-decoration: underline}
/*var {font-family: Helvetica, sans-serif; font-variant: slanted}*/
var {font-variant: slanted;}
td  {padding-right: 1em; padding-left: 1em}
sub {font-size: smaller}
.node {padding: 0; margin: 0}

.lisp { font-family: monospace;
        background-color: #F4F4F4; border: 1px solid #AAA;
        padding-top: 0.5em; padding-bottom: 0.5em; }

/* coloring */

.lisp-bg { background-color: #F4F4F4 ; color: black; }
.lisp-bg:hover { background-color: #F4F4F4 ; color: black; }

.symbol { font-weight: bold; color: #770055; background-color : transparent; border: 0px; margin: 0px;}
a.symbol:link { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
a.symbol:active { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
a.symbol:visited { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
a.symbol:hover { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
.special { font-weight: bold; color: #FF5000; background-color: inherit; }
.keyword { font-weight: bold; color: #770000; background-color: inherit; }
.comment { font-weight: normal; color: #007777; background-color: inherit; }
.string  { font-weight: bold; color: #777777; background-color: inherit; }
.character   { font-weight: bold; color: #0055AA; background-color: inherit; }
.syntaxerror { font-weight: bold; color: #FF0000; background-color: inherit; }
span.paren1 { font-weight: bold; color: #777777; }
span.paren1:hover { color: #777777; background-color: #BAFFFF; }
span.paren2 { color: #777777; }
span.paren2:hover { color: #777777; background-color: #FFCACA; }
span.paren3 { color: #777777; }
span.paren3:hover { color: #777777; background-color: #FFFFBA; }
span.paren4 { color: #777777; }
span.paren4:hover { color: #777777; background-color: #CACAFF; }
span.paren5 { color: #777777; }
span.paren5:hover { color: #777777; background-color: #CAFFCA; }
span.paren6 { color: #777777; }
span.paren6:hover { color: #777777; background-color: #FFBAFF; }
--></style>
</head>
<body>
<div class="node">
<a name="Creating-timestamp-Objects"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Querying-timestamp-Objects.html#Querying-timestamp-Objects">Querying timestamp Objects</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Timezones.html#Timezones">Timezones</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Public-API.html#Public-API">Public API</a>
<hr>
</div>

<h3 class="section">2.3 Creating <code>timestamp</code> Objects</h3>

<p><a name="index-universal_002dto_002dtimestamp-10"></a>

<div class="defun">
&mdash; Function: <b>universal-to-timestamp</b><var> universal &amp;key </var>(<var>nsec 0</var>)<var><a name="index-universal_002dto_002dtimestamp-11"></a></var><br>
<blockquote>
        <p>Produces a <code>timestamp</code> instance from the provided universal time
<var>universal</var>.  Universal time is defined in the Common Lisp
Specification as the number of seconds since 1900-01-01T00:00:00Z. 
</p></blockquote></div>

   <p><a name="index-unix_002dto_002dtimestamp-12"></a>

<div class="defun">
&mdash; Function: <b>unix-to-timestamp</b><var> unix &amp;key </var>(<var>nsec 0</var>)<var><a name="index-unix_002dto_002dtimestamp-13"></a></var><br>
<blockquote>
        <p>Produces a <code>timestamp</code> instance from the provided unix time
<var>unix</var>.  Unix time is defined by POSIX as the number of seconds
since 1970-01-01T00:00:00Z. 
</p></blockquote></div>

   <p><a name="index-now-14"></a>

<div class="defun">
&mdash; Function: <b>now</b><var><a name="index-now-15"></a></var><br>
<blockquote>
        <p>Produces a <code>timestamp</code> instance with the current time.  Under
sbcl, the new timestamp will be precise to the microsecond. 
Otherwise, the precision is limited to the second. 
</p></blockquote></div>

   <p><a name="index-today-16"></a>

<div class="defun">
&mdash; Function: <b>today</b><var><a name="index-today-17"></a></var><br>
<blockquote>
        <p>Produces a <code>timestamp</code> instance that corresponds to today's
date, which is the midnight of the current day in the UTC zone. 
</p></blockquote></div>

   <p><a name="index-encode_002dtimestamp-18"></a>

<div class="defun">
&mdash; Function: <b>encode-timestamp</b><var> nsec sec minute hour day month year &amp;key timezone offset into<a name="index-encode_002dtimestamp-19"></a></var><br>
<blockquote>
        <p>Returns a new <code>timestamp</code> instance corresponding to the specified
time elements.  The <var>offset</var> is the number of seconds offset from
UTC of the locale.  If <var>offset</var> is not specified, the offset will
be guessed from the <var>timezone</var>.  If a <code>timestamp</code> is passed
as the <var>into</var> argument, its value will be set and that
<code>timestamp</code> will be returned.  Otherwise, a new <code>timestamp</code>
is created. 
</p></blockquote></div>

   <p><a name="index-make_002dtimestamp-20"></a>

<div class="defun">
&mdash; Macro: <b>make-timestamp</b><var> &amp;key :day :sec :nsec<a name="index-make_002dtimestamp-21"></a></var><br>
<blockquote>
        <p>Expands to an expression that creates an instance of a
<code>timestamp</code> exactly as specified. 
</p></blockquote></div>

   <p><a name="index-clone_002dtimestamp-22"></a>

<div class="defun">
&mdash; Macro: <b>clone-timestamp</b><var> timestamp<a name="index-clone_002dtimestamp-23"></a></var><br>
<blockquote>
        <p>Expands to an expression that creates another copy of <var>timestamp</var>
that is <code>timestamp=</code> to it. 
</p></blockquote></div>

<!-- =================================================================== -->
   </body></html>

