<html lang="en">
<head>
<title>Querying timestamp Objects - The local-time Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The local-time Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Public-API.html#Public-API" title="Public API">
<link rel="prev" href="Creating-timestamp-Objects.html#Creating-timestamp-Objects" title="Creating timestamp Objects">
<link rel="next" href="Manipulating-Date-and-Time-Values.html#Manipulating-Date-and-Time-Values" title="Manipulating Date and Time Values">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 2012 Daniel Lowe <dlowe dlowe.net>

Copyright (C) 2012 Attila Lendvai <attila.lendvai gmail.com>


     This manual describes the `local-time' Common Lisp library which is
     based on Erik Naggum's  _The Long, Painful History of Time_
     [NaggumPaper] paper.

-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {font-family: century schoolbook, serif;
      line-height: 1.3;
      padding-left: 5em; padding-right: 1em;
      padding-bottom: 1em; max-width: 60em;}
table {border-collapse: collapse}
span.roman { font-family: century schoolbook, serif; font-weight: normal; }
h1, h2, h3, h4, h5, h6 {font-family:  Helvetica, sans-serif}
/*h4 {padding-top: 0.75em;}*/
dfn {font-family: inherit; font-variant: italic; font-weight: bolder }
kbd {font-family: monospace; text-decoration: underline}
/*var {font-family: Helvetica, sans-serif; font-variant: slanted}*/
var {font-variant: slanted;}
td  {padding-right: 1em; padding-left: 1em}
sub {font-size: smaller}
.node {padding: 0; margin: 0}

.lisp { font-family: monospace;
        background-color: #F4F4F4; border: 1px solid #AAA;
        padding-top: 0.5em; padding-bottom: 0.5em; }

/* coloring */

.lisp-bg { background-color: #F4F4F4 ; color: black; }
.lisp-bg:hover { background-color: #F4F4F4 ; color: black; }

.symbol { font-weight: bold; color: #770055; background-color : transparent; border: 0px; margin: 0px;}
a.symbol:link { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
a.symbol:active { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
a.symbol:visited { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
a.symbol:hover { font-weight: bold; color : #229955; background-color : transparent; text-decoration: none; border: 0px; margin: 0px; }
.special { font-weight: bold; color: #FF5000; background-color: inherit; }
.keyword { font-weight: bold; color: #770000; background-color: inherit; }
.comment { font-weight: normal; color: #007777; background-color: inherit; }
.string  { font-weight: bold; color: #777777; background-color: inherit; }
.character   { font-weight: bold; color: #0055AA; background-color: inherit; }
.syntaxerror { font-weight: bold; color: #FF0000; background-color: inherit; }
span.paren1 { font-weight: bold; color: #777777; }
span.paren1:hover { color: #777777; background-color: #BAFFFF; }
span.paren2 { color: #777777; }
span.paren2:hover { color: #777777; background-color: #FFCACA; }
span.paren3 { color: #777777; }
span.paren3:hover { color: #777777; background-color: #FFFFBA; }
span.paren4 { color: #777777; }
span.paren4:hover { color: #777777; background-color: #CACAFF; }
span.paren5 { color: #777777; }
span.paren5:hover { color: #777777; background-color: #CAFFCA; }
span.paren6 { color: #777777; }
span.paren6:hover { color: #777777; background-color: #FFBAFF; }
--></style>
</head>
<body>
<div class="node">
<a name="Querying-timestamp-Objects"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Manipulating-Date-and-Time-Values.html#Manipulating-Date-and-Time-Values">Manipulating Date and Time Values</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Creating-timestamp-Objects.html#Creating-timestamp-Objects">Creating timestamp Objects</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Public-API.html#Public-API">Public API</a>
<hr>
</div>

<h3 class="section">2.4 Querying <code>timestamp</code> Objects</h3>

<p><a name="index-day_002dof-24"></a>

<div class="defun">
&mdash; Function: <b>day-of</b><var> timestamp<a name="index-day_002dof-25"></a></var><br>
<blockquote>
        <p>Returns the day component of <var>timestamp</var>.  Although Naggum's paper
specifies that the day should be a signed fixnum, it is left unbounded
for flexibility reasons. 
</p></blockquote></div>

   <p><a name="index-sec_002dof-26"></a>

<div class="defun">
&mdash; Function: <b>sec-of</b><var> timestamp<a name="index-sec_002dof-27"></a></var><br>
<blockquote>
        <p>Returns the 'seconds' component of the time.  Valid values for the
seconds range from 0 to 86399. 
</p></blockquote></div>

   <p><a name="index-nsec_002dof-28"></a>

<div class="defun">
&mdash; Function: <b>nsec-of</b><var> timestamp<a name="index-nsec_002dof-29"></a></var><br>
<blockquote>
        <p>Returns the 'microseconds' component of the time.  Valid values for
the nanoseconds range from 0 to 999999999. 
</p></blockquote></div>

   <p><a name="index-timestamp_002dto_002duniversal-30"></a>

<div class="defun">
&mdash; Function: <b>timestamp-to-universal</b><var> timestamp<a name="index-timestamp_002dto_002duniversal-31"></a></var><br>
<blockquote>
        <p>This returns the date/time specified in <var>timestamp</var> encoded as
the number of seconds since January 1st, 1900 12:00am UTC. 
</p></blockquote></div>

   <p><a name="index-timestamp_002dto_002dunix-32"></a>

<div class="defun">
&mdash; Function: <b>timestamp-to-unix</b><var> timestamp<a name="index-timestamp_002dto_002dunix-33"></a></var><br>
<blockquote>
        <p>This returns the date/time specified in <var>timestamp</var> encoded as
the number of seconds since January 1st, 1970 12:00am UTC.  It
corresponds with the time received from the POSIX call <code>time()</code>. 
</p></blockquote></div>

   <p><a name="index-timestamp_002dsubtimezone-34"></a>

<div class="defun">
&mdash; Function: <b>timestamp-subtimezone</b><var> timestamp timezone<a name="index-timestamp_002dsubtimezone-35"></a></var><br>
<blockquote>
        <p>Returns as multiple values the time zone applicable at the given time
as the number of seconds east of UTC, a boolean daylight-saving-p, and
the customary abbreviation of the timezone. 
</p></blockquote></div>

   <p><a name="index-with_002ddecoded_002dtimestamp-36"></a>

<div class="defun">
&mdash; Macro: <b>with-decoded-timestamp</b> (<var>&amp;key nsec sec minute hour day month year day-of-week daylight-p timezone</var>)<var> timestamp &amp;body body<a name="index-with_002ddecoded_002dtimestamp-37"></a></var><br>
<blockquote>
        <p>This macro binds variables to the decoded elements of <var>timestamp</var>. 
The timezone argument is used for decoding the timestamp, and is not
bound by the macro. The value of <var>day-of-week</var> starts from 0 which
means Sunday. 
</p></blockquote></div>

   <p><a name="index-decode_002dtimestamp-38"></a>

<div class="defun">
&mdash; Function: <b>decode-timestamp</b><var> timestamp<a name="index-decode_002dtimestamp-39"></a></var><br>
<blockquote>
        <p>Returns the decoded time as <code>(values ns ss mm hh day month
year day-of-week daylight-saving-time-p timezone-offset timezone-abbreviation)</code>. 
</p></blockquote></div>

   <p><a name="index-timestamp_003c-40"></a><a name="index-timestamp_003c_003d-41"></a><a name="index-timestamp_003e-42"></a><a name="index-timestamp_003e_003d-43"></a><a name="index-timestamp_003d-44"></a><a name="index-timestamp_002f_003d-45"></a>

<div class="defun">
&mdash; Function: <b>timestamp&lt;</b><var> time-a time-b<a name="index-timestamp_003c-46"></a></var><br>
&mdash; Function: <b>timestamp&lt;=</b><var> time-a time-b<a name="index-timestamp_003c_003d-47"></a></var><br>
&mdash; Function: <b>timestamp&gt;</b><var> time-a time-b<a name="index-timestamp_003e-48"></a></var><br>
&mdash; Function: <b>timestamp&gt;=</b><var> time-a time-b<a name="index-timestamp_003e_003d-49"></a></var><br>
&mdash; Function: <b>timestamp=</b><var> time-a time-b<a name="index-timestamp_003d-50"></a></var><br>
&mdash; Function: <b>timestamp/=</b><var> time-a time-b<a name="index-timestamp_002f_003d-51"></a></var><br>
<blockquote>
        <p>These comparison functions act like their string and char counterparts. 
</p></blockquote></div>

   <p><a name="index-timestamp_002dminimum-52"></a>

<div class="defun">
&mdash; Function: <b>timestamp-minimum</b><var> timestamp &amp;rest timestamps<a name="index-timestamp_002dminimum-53"></a></var><br>
<blockquote>
        <p>Returns the earliest timestamp passed to it. 
</p></blockquote></div>

   <p><a name="index-timestamp_002dmaximum-54"></a>

<div class="defun">
&mdash; Function: <b>timestamp-maximum</b><var> timestamp &amp;rest timestamps<a name="index-timestamp_002dmaximum-55"></a></var><br>
<blockquote>
        <p>Returns the latest timestamp passed to it. 
</p></blockquote></div>

   <p><a name="index-timestamp_002dday_002dof_002dweek-56"></a>

<div class="defun">
&mdash; Function: <b>timestamp-day-of-week</b><var> timestamp<a name="index-timestamp_002dday_002dof_002dweek-57"></a></var><br>
<blockquote>
        <p>This returns the index of the day of the week,
starting at 0 which means Sunday. 
<blockquote>
<b>Note:</b> &rdquo;Day of the week&rdquo; is ambigous and locale dependent. 
</blockquote>
        </p></blockquote></div>

   <p><a name="index-universal_002dto_002dtimestamp-58"></a>

<div class="defun">
&mdash; Function: <b>universal-to-timestamp</b><var> timestamp<a name="index-universal_002dto_002dtimestamp-59"></a></var><br>
<blockquote>
        <p>Returns the UNIVERSAL-TIME corresponding to <var>timestamp</var>. 
<blockquote>
<b>Note:</b> Subsecond precision is not preserved. 
</blockquote>
        </p></blockquote></div>

   <p><a name="index-timestamp_002dmillennium-60"></a><a name="index-timestamp_002dcentury-61"></a><a name="index-timestamp_002ddecade-62"></a>

<div class="defun">
&mdash; Function: <b>timestamp-millennium</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dmillennium-63"></a></var><br>
&mdash; Function: <b>timestamp-century</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dcentury-64"></a></var><br>
&mdash; Function: <b>timestamp-decade</b><var> timestamp &amp;key timezone<a name="index-timestamp_002ddecade-65"></a></var><br>
<blockquote>
        <p>Returns the ordinal millennium, century or decade upon which the
timestamp falls.  Ordinal time values start at 1, so the
(timestamp-century (now)) will return 21.

        </blockquote></div>

   <p><a name="index-timestamp_002dyear-66"></a><a name="index-timestamp_002dmonth-67"></a><a name="index-timestamp_002dday-68"></a><a name="index-timestamp_002dhour-69"></a><a name="index-timestamp_002dminute-70"></a><a name="index-timestamp_002dsecond-71"></a><a name="index-timestamp_002dmillisecond-72"></a><a name="index-timestamp_002dmicrosecond-73"></a>

<div class="defun">
&mdash; Function: <b>timestamp-year</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dyear-74"></a></var><br>
&mdash; Function: <b>timestamp-month</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dmonth-75"></a></var><br>
&mdash; Function: <b>timestamp-day</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dday-76"></a></var><br>
&mdash; Function: <b>timestamp-hour</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dhour-77"></a></var><br>
&mdash; Function: <b>timestamp-minute</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dminute-78"></a></var><br>
&mdash; Function: <b>timestamp-second</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dsecond-79"></a></var><br>
&mdash; Function: <b>timestamp-millisecond</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dmillisecond-80"></a></var><br>
&mdash; Function: <b>timestamp-microsecond</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dmicrosecond-81"></a></var><br>
&mdash; Function: <b>timestamp-microsecond</b><var> timestamp &amp;key timezone<a name="index-timestamp_002dmicrosecond-82"></a></var><br>
<blockquote>
        <p>Returns the decoded part of the timestamp. 
</p></blockquote></div>

<!-- =================================================================== -->
   </body></html>

